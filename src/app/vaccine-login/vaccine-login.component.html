
<div class="main-div container" style="margin-top: 80px;text-align: center;position:relative">

  <div *ngIf="!otpsent">
    <mat-card  layout="row" layout-align="center center" style="padding: 45px;border-radius: 20px;">

    <mat-card-title style="font-size: 23px;font-family:'Arial Narrow Bold'" >
      Register</mat-card-title>
    <mat-card-subtitle style="color: whitesmoke;font-family: sans-serif;font-size:14px;">An <u>OTP</u> will be sent to your mobile number</mat-card-subtitle>
    <form class="container-fluid" [formGroup]="formData" (ngSubmit)="formData.valid && getOtp()">
      <mat-form-field class="example-ful-width">
        <mat-label style="color: whitesmoke;">Mobile Number</mat-label>
        <span matPrefix>+91 &nbsp;</span>
        <input type="tel" matInput   [formControlName]="'mobileNumber'" >
        <mat-error   *ngIf="formData.controls.mobileNumber.invalid && formData.controls.mobileNumber.touched">Please Enter valid Number</mat-error>
      </mat-form-field>

    <div class="container"><button type="submit" mat-raised-button >Get OTP</button></div>
    </form>
    </mat-card >
    </div>

    <div *ngIf="otpsent">
      <form [formGroup]="otpFetch" (ngSubmit)="verify()">
          <mat-card layout="row" layout-align="center center" style="border-radius: 20px;padding-top: 45px;">
            <h4>Verify your <u>OTP</u></h4>
              <span class="mobile-text">Enter the code we just send on your mobile phoneÂ <b class="text-danger">+91 {{formData.controls.mobileNumber.value}}</b></span>
              <div class="d-flex flex-row mt-3">
                <input  type="text" class="form-control" autofocus="" formControlName="otp">
              </div>
              <div><mat-error *ngIf="!otpFetch.controls.otp.valid && otpFetch.controls.otp.touched" style="text-align: center;">Please Enter Valid OTP</mat-error></div>
              <div class="text-center mt-3">
                <div class="container"><button type="submit" mat-raised-button [disabled]="otpFetch.controls.otp.invalid" style="background-color: white;" >Verify</button></div>
                <span class="d-block mobile-text">Don't receive the code?</span>
                <span class="font-weight-bold text-danger cursor">
                  <a style="cursor: pointer;" (click)="getOtp()">Resend</a>
                </span>
                <!-- <mat-spinner ></mat-spinner> -->
                <div class="font-weight-bold text-danger cursor">
                  <a style="cursor: pointer;" (click)="resend()">change number</a>
                </div>
              </div>
          </mat-card>

      </form>
    </div>
    <div  *ngIf="!otpsent" style="position: absolute;width: 110px;height: 110px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);border-radius: 50%;background-color: whitesmoke;margin-top: -290px;">
      <img src="assets/login-screen.svg" alt="img" style="width: 110px;height:110px;">
    </div>
    <div  *ngIf="otpsent" style="position: absolute;width: 110px;height: 110px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);border-radius: 50%;background-color: whitesmoke;margin-top: -330px;">
      <img src="assets/login-screen.svg" alt="img" style="width: 110px;height:110px;">
    </div>
</div>
<footer>
  <app-footer></app-footer>
</footer>
